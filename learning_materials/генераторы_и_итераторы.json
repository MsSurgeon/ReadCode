{
  "topic": "Генераторы и итераторы в Python",
  "introduction": "Генераторы и итераторы - это мощные инструменты в Python, которые позволяют эффективно работать с последовательностями данных. Итераторы позволяют перебирать элементы последовательности один за другим, в то время как генераторы могут создавать эти элементы по запросу, что позволяет экономить память и увеличивать производительность. Понимание и использование итераторов и генераторов является важным навыком для любого Python-разработчика.",
  "theory": {
    "overview": "Итераторы и генераторы в Python представляют собой специальные типы объектов, которые позволяют эффективно работать с последовательностями данных. Итераторы реализуют протокол итератора с методами __iter__() и __next__(), позволяя последовательно возвращать элементы. Генераторы создаются с использованием ключевого слова yield и могут быть функциями-генераторами или выражениями-генераторами.",
    "best_practices": [
      "Используйте генераторы для ленивых вычислений и экономии памяти",
      "Избегайте лишнего использования циклов в генераторах",
      "Проверяйте исключения для корректной работы с итераторами"
    ],
    "common_mistakes": [
      "Забывать вызывать метод __next__() у итератора",
      "Использовать генераторы вместо списков в случаях, когда требуется полный доступ ко всем элементам"
    ]
  },
  "examples": [
    {
      "title": "Пример 1: Итератор",
      "description": "Создание простого итератора для списка чисел",
      "code": "class MyIterator:\n    def __init__(self, data):\n        self.data = data\n        self.index = 0\n\n    def __iter__(self):\n        return self\n\n    def __next__(self):\n        if self.index >= len(self.data):\n            raise StopIteration\n        result = self.data[self.index]\n        self.index += 1\n        return result\n\n# Использование итератора\niterator = MyIterator([1, 2, 3])\nfor item in iterator:\n    print(item)",
      "explanation": "В данном примере создается класс MyIterator, который реализует протокол итератора. Метод __init__() инициализирует итератор передаваемыми данными, метод __iter__() возвращает сам объект итератора, а метод __next__() возвращает следующий элемент последовательности. При достижении конца списка генерируется исключение StopIteration. Далее создается экземпляр итератора и происходит итерация по элементам списка с выводом каждого элемента."
    },
    {
      "title": "Пример 2: Генератор",
      "description": "Создание простого генератора для генерации чисел Фибоначчи",
      "code": "def fibonacci_generator(n):\n    a, b = 0, 1\n    count = 0\n    while count < n:\n        yield a\n        a, b = b, a + b\n        count += 1\n\n# Использование генератора\nfibonacci = fibonacci_generator(5)\nfor num in fibonacci:\n    print(num)",
      "explanation": "В этом примере определяется функция fibonacci_generator, которая является генератором чисел Фибоначчи. Внутри функции используется ключевое слово yield для возврата следующего числа в последовательности. При каждом вызове генератор возвращает значение и приостанавливает выполнение функции до следующего вызова. Далее создается генератор для первых 5 чисел Фибоначчи и происходит итерация по ним с выводом каждого числа."
    }
  ],
  "practice_examples": {
    "examples": [
      {
        "code": "def countdown(n):\n    while n > 0:\n        yield n\n        n -= 1\n\n# Использование генератора\ncd = countdown(5)\nfor i in cd:\n    print(i)",
        "hidden_explanation": "Этот код создает генератор, который возвращает числа от n до 1 итеративно, пока n больше нуля. При каждой итерации значение n уменьшается на 1.",
        "expected_concepts": [
          "Генераторы",
          "Ключевое слово yield",
          "Использование генератора в цикле for"
        ],
        "id": "генераторы_и_итераторы_в_python_ex1"
      },
      {
        "code": "def square_numbers(nums):\n    for num in nums:\n        yield num * num\n\n# Использование генератора\nmy_nums = square_numbers([1, 2, 3, 4, 5])\nfor num in my_nums:\n    print(num)",
        "hidden_explanation": "Этот код создает генератор, который возвращает квадраты чисел из переданного списка nums. При каждой итерации возвращается квадрат следующего числа.",
        "expected_concepts": [
          "Генераторы",
          "Использование генератора для преобразования элементов",
          "Итерация по генератору в цикле for"
        ],
        "id": "генераторы_и_итераторы_в_python_ex2"
      },
      {
        "code": "def vowel_generator(sentence):\n    vowels = 'aeiou'\n    for char in sentence:\n        if char.lower() in vowels:\n            yield char\n\n# Использование генератора\nsentence = 'Hello, World!'\nvowels = vowel_generator(sentence)\nfor vowel in vowels:\n    print(vowel)",
        "hidden_explanation": "Этот код создает генератор, который возвращает гласные буквы из предложения. При каждой итерации проверяется, является ли текущий символ гласной буквой.",
        "expected_concepts": [
          "Генераторы",
          "Использование условий в генераторе",
          "Применение генератора к символьной последовательности"
        ],
        "id": "генераторы_и_итераторы_в_python_ex3"
      },
      {
        "code": "def even_numbers(limit):\n    num = 0\n    while num <= limit:\n        yield num\n        num += 2\n\n# Использование генератора\nevens = even_numbers(10)\nfor even_num in evens:\n    print(even_num)",
        "hidden_explanation": "Этот код создает генератор, который возвращает четные числа от 0 до указанного предела limit. При каждой итерации возвращается следующее четное число.",
        "expected_concepts": [
          "Генераторы",
          "Использование генератора для генерации последовательности четных чисел",
          "Цикл while в генераторе"
        ],
        "id": "генераторы_и_итераторы_в_python_ex4"
      },
      {
        "code": "def power_generator(base, limit):\n    power = 1\n    while power <= limit:\n        yield base ** power\n        power += 1\n\n# Использование генератора\npowers = power_generator(2, 5)\nfor result in powers:\n    print(result)",
        "hidden_explanation": "Этот код создает генератор, который возвращает степени числа base от 1 до указанного предела limit. При каждой итерации возвращается следующая степень числа.",
        "expected_concepts": [
          "Генераторы",
          "Использование генератора для генерации степеней числа",
          "Параметры функции для задания базы и предела степени"
        ],
        "id": "генераторы_и_итераторы_в_python_ex5"
      }
    ]
  }
}